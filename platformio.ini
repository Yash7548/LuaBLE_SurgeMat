; ESP32-S3 Speed Test System - Multiple Board Configurations
; PlatformIO configuration for ESP32-S3 boards with different memory configurations

;[platformio]
;   default_envs = ESP32-S3-M16R2

; =============================================================================
; ESP32-S3 M16R2 (RECOMMENDED) - 16MB Flash + 8MB PSRAM
; =============================================================================
[env:WROOM-1-N16R8]
platform = https://github.com/pioarduino/platform-espressif32/releases/download/stable/platform-espressif32.zip
framework = arduino
board = WROOM-1-N16R8
board_build.partitions =partitions.16m.csv
board_build.filesystem = littlefs


board_build.psram = enable
build_flags =
     -DBOARD_HAS_PSRAM
     -DLUAT_USE_PSRAM
    ;  -D__LUATOS__ 
     -DUSE_HSPI_PORT
   -DNFC_INTERFACE_SPI
     -DLUAT_HEAP_SIZE=100*1024
    ; -DARDUINO_USB_CDC_ON_BOOT=0

; =============================================================================
; ESP32-S3 MCN8 (LEGACY) - 8MB Flash, No PSRAM
; =============================================================================
; [env:WROOM-1-MCN8]
; platform = https://github.com/pioarduino/platform-espressif32/releases/download/stable/platform-espressif32.zip
; board = WROOM-1-MCN8
; framework = arduino
; board_build.partitions = partitions.8m.csv
; board_build.filesystem = littlefs

; ;Build flags for MCN8 (no PSRAM)
; build_flags =
;    -D__LUATOS__
;    -DLUAT_HEAP_SIZE=150*1024
;    -DUSE_HSPI_PORT
;    -DNFC_INTERFACE_SPI
;    -DARDUINO_USB_MODE=1
;    -DARDUINO_RUNNING_CORE=1
;    -DARDUINO_EVENT_RUNNING_CORE=1

; =============================================================================
; ESP32-S3 N16R8 (ALTERNATIVE) - 16MB Flash + 8MB PSRAM
; =============================================================================
; [env:WROOM-1-N16R8]
; platform = espressif32@6.12.0
; board = WROOM-1-N16R8
; framework = arduino
; board_build.partitions = partitions.16m.csv
; board_build.filesystem = littlefs
; ;PSRAM automatically enabled by board definition

; ;Build flags for N16R8
;   build_flags =
;    -DBOARD_HAS_PSRAM
;    -DLUAT_USE_PSRAM
;    -D__LUATOS__
;    -DLUAT_HEAP_SIZE=300*1024
;    -DUSE_HSPI_PORT
;    -DNFC_INTERFACE_SPI
;    -DARDUINO_USB_MODE=1
;    -DARDUINO_RUNNING_CORE=1
;    -DARDUINO_EVENT_RUNNING_CORE=1

; =============================================================================
; ESP32-S3 N4R2 (MINIMAL) - 4MB Flash + 2MB PSRAM
; =============================================================================
;[env:WROOM-1-N4R2]
;platform = espressif32@6.12.0
;board = WROOM-1-N4R2
;framework = arduino
;board_build.partitions = partitions.4mb.csv
;board_build.filesystem = littlefs
; PSRAM automatically enabled by board definition

; Build flags for N4R2
;build_flags =
;    -DBOARD_HAS_PSRAM
;    -DLUAT_USE_PSRAM
;    -D__LUATOS__
;    -DLUAT_HEAP_SIZE=150*1024
;    -DUSE_HSPI_PORT
;    -DNFC_INTERFACE_SPI
;    -DARDUINO_USB_MODE=1
;    -DARDUINO_RUNNING_CORE=1
;    -DARDUINO_EVENT_RUNNING_CORE=1

; =============================================================================
; Standard ESP32-S3 DevKit (DEVELOPMENT)
; =============================================================================
;   [env:esp32s3dev]
;platform = espressif32@6.12.0
;board = esp32-s3-devkitc-1
;framework = arduino
;board_build.partitions = partitions.esp32s3-m16r2.csv
;board_build.filesystem = littlefs
;board_build.psram = enable

; Build flags for devkit
;build_flags =
;    -DBOARD_HAS_PSRAM
;    -DLUAT_USE_PSRAM
;    -D__LUATOS__
;    -DLUAT_HEAP_SIZE=300*1024
;    -DUSE_HSPI_PORT
;    -DNFC_INTERFACE_SPI
;    -DARDUINO_USB_MODE=1
;    -DARDUINO_RUNNING_CORE=1
;    -DARDUINO_EVENT_RUNNING_CORE=1

; =============================================================================
; Common Settings for All Environments
; =============================================================================

; Common build flags for all environments


monitor_filters = esp32_exception_decoder, time, colorize
monitor_speed = 115200
; keep lib scanning deep

;upload_speed = 115200
;upload_protocol = esptool

; Common library dependencies
; ✅ FastLED is FULLY COMPATIBLE with ESP32-S3!
; ❌ Adafruit NeoPixel is NOT compatible with ESP32-S3
lib_deps = 
   ;  fastled/FastLED@^3.10.1  ; ✅ ESP32-S3 COMPATIBLE - 16 I2S + 4 RMT outputs
  adafruit/Adafruit_VL53L0X@^1.2.4
	adafruit/Adafruit PN532@^1.3.3
	https://github.com/Bodmer/TJpg_Decoder.git
	adafruit/Adafruit BusIO@^1.17.0
	h2zero/NimBLE-Arduino
	bblanchon/ArduinoJson@^7.2.0  


